<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JOYFIT24経堂 12月限定キャンペーン</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- フォントをNoto Sans JPに統一 --><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <style>
        /* =======================================================
           ■ Root Variables (基本設定)
           ======================================================= */
        :root { 
            --brand: #C21632;
            --christmas-green: #0b6623;
            --christmas-red: #d42426;
            --christmas-gold: #FFD700;
            --color-dark: #2c3e50;
            --color-text: #333333;
            --color-background: #f0f4f8;
            --color-card-bg: #ffffff;
            --color-white: #ffffff;
            --font-base: 'Noto Sans JP', sans-serif;
            --font-accent: 'Noto Sans JP', sans-serif;
            --font-digital: 'Noto Sans JP', sans-serif;
            --duration: 2.5s;
            --border-radius: 16px;
            /* 影の設定 */
            --shadow-soft: 0 4px 15px rgba(0, 0, 0, 0.05);
            --shadow-strong: 0 8px 25px rgba(0, 0, 0, 0.15);
            --shadow-lifted: 0 6px 12px rgba(0, 0, 0, 0.1);

            /* オプションセクション用のデザイン変数 */
            --option-section-bg-start: #1a4a1a; 
            --option-section-bg-end: #0a3a0a;   
            --option-section-border-color: #ffd700; 
        }

        /* 背景アニメーション */
        @keyframes pulse-red {
            0% { box-shadow: inset 0 0 200px rgba(var(--christmas-red), 0.3); }
            50% { box-shadow: inset 0 0 300px rgba(var(--christmas-red), 0.5); }
            100% { box-shadow: inset 0 0 200px rgba(var(--christmas-red), 0.3); }
        }
        
        /* === ネオンエフェクトアニメーション（赤/ゴールドベース） === */
        @keyframes glitter-border-animate {
            0% { box-shadow: 
                0 0 0 6px var(--brand), /* 内側の赤枠 */
                0 0 0 8px rgba(255, 255, 255, 0.5), /* 白い光 */
                0 0 10px 10px rgba(255, 215, 0, 0.4); /* ゴールドの輝き */
            }
            50% { box-shadow: 
                0 0 0 6px var(--brand), 
                0 0 0 9px rgba(255, 255, 255, 0.7), 
                0 0 12px 12px rgba(255, 215, 0, 0.6); 
            }
            100% { box-shadow: 
                0 0 0 6px var(--brand), 
                0 0 0 8px rgba(255, 255, 255, 0.5), 
                0 0 10px 10px rgba(255, 215, 0, 0.4); 
            }
        }
        
        /* きらめきボーダーのスタイル共通定義（赤/ゴールドベース） */
        .glitter-border-style {
            position: relative;
            border-radius: var(--border-radius);
            border: none !important; 
            animation: glitter-border-animate 2s ease-in-out infinite alternate; 
            transition: all 0.3s ease;
        }

        /* === ネオンエフェクトアニメーション（緑/ゴールドベース - オプションセクション用） === */
        @keyframes glitter-border-animate-yellow {
            0% { box-shadow: 
                0 0 0 4px var(--christmas-gold), /* ゴールドの太枠 */
                0 0 10px 8px rgba(255, 255, 255, 0.6); /* 白い光の拡散 */
            }
            50% { box-shadow: 
                0 0 0 5px var(--christmas-gold), 
                0 0 15px 12px rgba(255, 255, 255, 0.8); 
            }
            100% { box-shadow: 
                0 0 0 4px var(--christmas-gold), 
                0 0 10px 8px rgba(255, 255, 255, 0.6); 
            }
        }

        /* きらめきボーダーのスタイル共通定義（緑/ゴールドベース - オプションセクション用） */
        .glitter-border-style-yellow {
            position: relative;
            border-radius: var(--border-radius);
            border: none !important; 
            animation: glitter-border-animate-yellow 2.5s ease-in-out infinite alternate; 
            transition: all 0.3s ease;
        }

        /* === トップバナーの統一されたネオン装飾 === */
        #limited-time-banner {
            width: 100%;
            background-color: #ffffff;
            /* 雪の結晶パターン SVGを維持 */
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e0e0e0' fill-opacity='0.4' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
            background-size: 40px 40px; 
            position: relative;
            border-radius: 16px;
            padding: 20px 10px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column; 
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 20px;
            overflow: visible;
            
            /* 修正: glitter-border-styleの静的なネオンシャドウを直接適用 */
            /* アニメーションは適用しないが、ネオンの光沢は維持する */
            box-shadow: 0 0 0 6px var(--brand), 0 0 0 8px rgba(255, 255, 255, 0.5), 0 0 15px 15px rgba(255, 0, 0, 0.7); 
            border: none; /* 既存のボーダーを削除 */
        }
        
        #limited-time-banner::after {
            content: none; /* 修正: 星のマスク装飾を削除して、他のセクションのネオンと競合しないようにする */
        }

        html {
            scroll-behavior: smooth;
            box-sizing: border-box;
        }
        *, *::before, *::after {
            box-sizing: inherit;
        }
        body {
            font-family: var(--font-base);
            text-align: center;
            margin: 0;
            padding: 0;
            padding-bottom: 120px;
            overflow-x: hidden; 
            color: var(--color-text);
            /* 背景色の設定 */
            background: radial-gradient(circle at center, #660000 0%, #cc0000 35%, #990000 100%);
            animation: pulse-red 4s ease-in-out infinite alternate;
            min-height: 100vh; /* 最低高さを確保 */
        }
        
        /* コンテンツ全体を包むラッパー（z-indexを追加して背景より手前に表示） */
        .lp-wrapper {
            width: 100%;
            max-width: 640px;
            margin: 0 auto;
            padding: 0 15px;
            box-sizing: border-box;
            position: relative;
            z-index: 10; /* コンテンツを前面に */
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            vertical-align: bottom;
        }
        
        h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 40px 0 24px 0;
            color: #333;
        }

        /* 修正: 星を大きく */
        .mascot-star {
            font-size: 1.2rem; 
            color: var(--christmas-gold); 
            margin: 0 5px; 
            vertical-align: middle; 
            display: inline-block;
        }
        .banner-left-content { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px; text-align: center; z-index: 1; }
        .banner-text-row-top { display: flex; align-items: center; justify-content: center; gap: 8px; flex-wrap: wrap; }
        .banner-date {
            font-size: 1.4rem; font-weight: 900; color: var(--christmas-red); line-height: 1;
            border-bottom: 3px solid var(--christmas-green); padding-bottom: 2px;
        }
        .banner-slots-badge {
            background-color: var(--christmas-gold); color: #000; font-weight: 900; font-size: 1.1rem;
            padding: 4px 10px; border-radius: 50px; line-height: 1; white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); border: 2px solid #fff;
        }
        /* 修正: 「終了まで」を大きく */
        .banner-text-row-bottom { 
            font-size: 1.0rem; 
            font-weight: 700; 
            color: #555; 
            margin-top: 5px; 
        }
        .countdown-container { display: flex; gap: 8px; align-items: center; justify-content: center; z-index: 1; }
        .countdown-circle { 
            width: 60px; height: 60px; background-color: var(--christmas-green); border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: #ffffff; line-height: 1; border: 3px solid var(--christmas-gold); box-shadow: 0 4px 6px rgba(0,0,0,0.15);
        }
        .countdown-number { font-family: var(--font-accent); font-size: 1.5rem; font-weight: 700; line-height: 1; margin-bottom: 1px; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
        .countdown-unit { font-size: 0.6rem; font-weight: 700; opacity: 0.9; color: var(--christmas-gold); }
        @media (max-width: 600px) {
             #limited-time-banner { padding: 15px 10px; }
             .banner-date { font-size: 1.2rem; }
             .banner-slots-badge { font-size: 1rem; }
             .countdown-circle { width: 55px; height: 55px; border-width: 2px; }
             .countdown-number { font-size: 1.3rem; }
             .countdown-unit { font-size: 0.55rem; }
        }

        /* --- プラン選択セクション --- */
        .plan-selection-section {
            background-color: var(--color-white);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            width: 100%;
            margin: 20px auto 0 auto;
            padding: 10px 0 25px 0;
            position: relative;
            z-index: 10;
        }

        .plan-selection-section h2 {
            background-color: var(--christmas-gold); 
            color: var(--color-dark); 
            font-size: 1.2rem; 
            font-weight: 900; 
            text-align: center; 
            margin: 30px auto 24px auto; 
            padding: 8px 16px; 
            border-radius: 12px; 
            display: inline-block; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: relative; 
            z-index: 5;
            line-height: 1.2; 
        }
        @media (max-width: 480px) {
            .plan-selection-section h2 { font-size: 1.1rem; }
        }

        .plan-selection-section h2 span { 
            color: var(--brand); 
            font-family: var(--font-accent); 
            font-size: 1.6rem; 
            margin: 0 0.25rem; 
        }
        @media (max-width: 480px) {
            .plan-selection-section h2 span { font-size: 1.4rem; }
        }

        .plan-tabs {
            display: flex; background-color: #e0e0e0; border-radius: var(--border-radius); padding: 6px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); margin-bottom: -2px; position: relative; z-index: 10;
            max-width: calc(100% - 30px);
            margin: 0 auto;
        }
        .plan-tab-button {
            flex: 1; padding: 0.75rem 0.5rem; border: none; background-color: transparent; color: #555; font-size: 0.85rem; font-weight: 700; border-radius: 12px; cursor: pointer; transition: background-color 0.3s ease, color 0.3s ease; position: relative;
        }
        @media (max-width: 480px) {
            .plan-tab-button { font-size: 0.8rem; padding: 0.65rem 0.3rem; }
            .plan-tab-button .badge { font-size: 0.6rem; padding: 2px 5px; top: -8px; right: -3px; }
        }
        .plan-tab-button.active { background-color: var(--brand); color: #ffffff; box-shadow: 0 4px 10px rgba(194, 22, 50, 0.3); }
        .plan-tab-button .badge { position: absolute; top: -10px; right: -5px; background-color: var(--christmas-gold); color: #000; font-size: 0.65rem; font-weight: 900; padding: 3px 8px; border-radius: 20px; transform: rotate(10deg); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        
        .plan-content { display: none; }
        .plan-content.active { display: block; animation: fadeInTab 0.5s ease; }
        @keyframes fadeInTab { from { opacity: 0; transform: translateY(10px); } to { transform: translateY(0); } }
        
        .plan-accordion-content { 
            text-align: center; padding: 1.5rem; background-color: #fff;
            /* 修正: 内側の赤いボーダーを削除 */
            border: none; 
            box-shadow: var(--shadow-strong);
            border-bottom-left-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius);
            max-width: calc(100% - 30px);
            margin: 0 auto;
        }
        .price-showcase {
            background-color: #fff; border-radius: var(--border-radius); max-width: 100%; margin: 0 auto 0 auto; text-align: left; overflow: hidden; border: 1px solid #eee;
        }
        .price-header {
            background-color: var(--christmas-gold); color: var(--color-black); padding: 1.25rem 1.5rem; text-align: center; border: 2px solid var(--christmas-gold); border-radius: var(--border-radius) var(--border-radius) 0 0;
        }
        .price-header .title { 
            font-family: var(--font-accent); 
            font-size: 1.25rem; 
            font-weight: 900; 
            line-height: 1.2; 
            letter-spacing: 0.05em; 
        }
        @media (max-width: 480px) {
            .price-header .title { font-size: 1.1rem; }
        }
        .price-list { padding: 1rem 1.5rem 0 1.5rem; border: 2px solid #f0f0f0; border-top: none; border-bottom: none; }
        .price-item { display: flex; justify-content: center; align-items: flex-start; padding: 1rem 0; border-bottom: 1px dashed #ccc; gap: 0.5rem; }
        @media (max-width: 400px) {
            .price-item { flex-direction: column; align-items: center; gap: 0.75rem; }
            .price-item .label-group { width: 90%; min-width: unset; justify-content: center; }
            .price-item .price-display-center { width: 90%; min-width: unset; text-align: center; }
            .divider-dot { display: none; }
        }
        .price-item .label-group { display: flex; align-items: flex-start; gap: 0.75rem; flex: 1; justify-content: flex-start; text-align: left; min-width: 140px; }
        .price-item .number-circle { flex-shrink: 0; width: 30px; height: 30px; background-color: #333; color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; font-weight: 900; font-family: var(--font-accent); padding-top: 2px; }
        .price-item.is-discount .number-circle { background-color: var(--brand); }
        .price-item .label { font-size: 0.9rem; font-weight: 700; color: #333; }
        .price-item .label .note { font-size: 0.85rem; color: #777; font-weight: 400; display: block; }
        .divider-dot { width: 1px; height: 60px; background-image: linear-gradient(to bottom, #ccc 60%, transparent 40%); background-size: 1px 10px; background-repeat: repeat-y; align-self: stretch; }
        
        .price-display-center { 
            font-family: var(--font-accent); 
            font-weight: 700; 
            color: var(--color-dark); 
            text-align: center; 
            line-height: 1; 
            flex: 1; 
            min-width: 140px; 
            min-height: 5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .price-display-center .price-value { font-size: 1.5rem; font-weight: 900; }
        .price-display-center .price-value.zero-yen { color: var(--brand); font-size: 2.2rem; }
        .price-display-center .unit { font-family: var(--font-accent); font-size: 1rem; font-weight: 700; }
        .price-display-center .original { font-size: 1.1rem; font-family: var(--font-accent); color: #777; text-decoration: line-through; display: block; }
        .price-display-center .free-option-note { font-size: 0.9rem; font-weight: 700; color: var(--brand); display: block; margin-top: 4px; }
        
        /* 修正: 日割り料金の詳細を小さくして一行表示に対応 */
        .price-display-center .calculation-note-final {
            font-size: 0.7rem; 
            font-weight: 700; 
            color: #555;
            display: block; 
            line-height: 1.2; /* 行間を詰める */
            margin-top: 4px;
        }

        .options-carousel-section .section-subtitle strong {
            font-weight: 900; /* キャンペーン期間中 オプションが... を太字に */
        }


        .price-item-footnote { font-size: 0.7rem; font-weight: 700; color: #777; line-height: 1.5; padding: 0.5rem 0 1rem 0; border-bottom: 1px dashed #ccc; text-align: center; }
        
        .price-total { background-color: var(--brand); padding: 1.25rem 1.5rem; text-align: center; display: flex; flex-direction: row; flex-wrap: wrap; justify-content: center; align-items: baseline; gap: 0.5rem 1rem; border-radius: 0 0 12px 12px; }
        .price-total .label { 
            font-size: 1.5rem; 
            font-weight: 900; 
            color: #fff; 
            font-family: var(--font-accent); 
            letter-spacing: 0.03em; 
        }
        .price-total .price { font-family: var(--font-accent); font-size: 2rem; font-weight: 700; color: #fff; line-height: 1; text-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .price-total .price .unit { font-family: var(--font-base); font-size: 1rem; }
        
        /* ▼ 変更開始: 1月以降の月額料金 (サイズ基準) を縮小 */
        .monthly-fee { padding: 1.5rem; text-align: center; background-color: #f8f9fa; border: 2px solid #f0f0f0; border-top: none; border-radius: 0 0 12px 12px; }
        .monthly-fee .label { font-size: 0.8rem; /* 0.9rem -> 0.8rem */ font-weight: 700; color: #555; margin-bottom: 0.75rem; }
        .monthly-fee .price-large { 
            font-family: var(--font-accent); 
            font-size: 1.4rem; /* 1.6rem -> 1.4rem */
            font-weight: 900; 
            color: var(--color-dark); 
            line-height: 1; 
        }
        .monthly-fee .unit-large { 
            font-family: var(--font-base); 
            font-size: 0.7rem; /* 0.8rem -> 0.7rem */
            font-weight: 700; 
            margin-left: 0.25rem; 
        }
        .monthly-fee .plus { 
            font-size: 0.75rem; /* 0.9rem -> 0.75rem */
            font-weight: 900; 
            color: #777; 
            margin: 0 0.5rem; 
        }
        .monthly-fee .option-fee { 
            font-size: 0.75rem; /* 0.9rem -> 0.75rem */
            font-weight: 900; 
            color: var(--color-dark); 
        }
        /* ▲ 変更終了: 1月以降の月額料金 (サイズ基準) を縮小 */

        .special-discount-block { background: #fff; border: 2px solid var(--brand); border-radius: var(--border-radius); padding: 1rem; margin-top: 1.5rem; box-shadow: 0 8px 25px rgba(194, 22, 50, 0.1); position: relative; overflow: hidden; text-align: center; }
        .special-discount-block::before { font-size: 1.1rem; } /* 1.2rem -> 1.1rem */
        .special-discount-block .price-content { padding-top: 3rem; text-align: center; }
        .special-discount-block .label { font-size: 0.8rem; /* 0.9rem -> 0.8rem */ margin-bottom: 0.75rem; }
        
        /* ▼ 変更開始: 6ヶ月継続プラン特別価格のスタイルを統一 (縮小) */
        .special-discount-block .price-large { 
            font-family: var(--font-accent); 
            font-size: 1.4rem; /* 1.6rem -> 1.4rem */
            font-weight: 900; 
            color: var(--brand); 
            line-height: 1; 
            display: inline-block; 
        }
        .special-discount-block .unit-large { 
            font-family: var(--font-base); 
            font-size: 0.7rem; /* 0.8rem -> 0.7rem */
            font-weight: 700; 
            color: var(--brand); 
            margin-left: 0.25rem; 
            display: inline-block;
        }
        .special-discount-block .plus { 
            font-size: 0.75rem; /* 0.9rem -> 0.75rem */
            font-weight: 900; 
            color: #777; 
            margin: 0 0.5rem; 
        }
        .special-discount-block .option-fee { 
            font-size: 0.75rem; /* 0.9rem -> 0.75rem */
            font-weight: 900; 
            color: var(--color-dark); 
        }
        .special-discount-block .price-display-aligned {
            display: flex;
            justify-content: center;
            align-items: baseline; 
            flex-wrap: wrap; 
        }
        /* ▲ 変更終了: 6ヶ月継続プラン特別価格のスタイルを統一 (縮小) */

        .special-discount-block .discount-note { font-size: 0.8rem; /* 0.9rem -> 0.8rem */ margin-top: 0.75rem; color: #555; font-weight: 700; }
        
        .plan-conditions-list { margin-top: 1.5rem; margin-bottom: 1.5rem; border-top: 1px solid #e0e0e0; padding-top: 1.5rem; text-align: center; }
        .plan-conditions-list ul { list-style: none; padding-left: 0; margin: 0 auto 1rem auto; display: inline-block; text-align: left; }
        
        /* ▼ 変更開始: 6ヶ月継続プランの条件リスト (縮小と垂直方向の修正を維持) */
        .plan-conditions-list li { 
            display: flex; 
            align-items: center; 
            gap: 0.6rem; /* 0.75rem -> 0.6rem */
            font-size: 0.65rem; /* 0.7rem -> 0.65rem */
            font-weight: 700; color: #333; 
            line-height: 1.5; 
            margin-bottom: 0.4rem; /* 0.5rem -> 0.4rem */
        }
        /* ▲ 変更終了: 6ヶ月継続プランの条件リスト */

        .plan-conditions-list li i { font-size: 1.1rem; /* 1.2rem -> 1.1rem */ color: var(--brand); margin-top: 0; }
        .plan-conditions-list li strong { color: var(--brand); font-weight: 900; }
        
        /* ▼ 変更開始: 無料オプションの自動契約に関する注意書きをさらに小さくする */
        .plan-option-note { 
            font-size: 0.65rem; /* 0.7rem -> 0.65rem */
            font-weight: 700; color: #e0e0e0; background: linear-gradient(135deg, #434343, #2b2b2b); 
            border-radius: 8px; padding: 0.75rem; line-height: 1.5; 
            margin: 1.5rem auto; max-width: 90%; width: 320px; 
        }
        /* ▲ 変更終了: 無料オプションの自動契約に関する注意書きをさらに小さくする */

        .how-to-join-container { margin-top: 1.5rem; }
        .steps-container { display: flex; flex-direction: column; gap: 1rem; }
        @media (min-width: 480px) { .steps-container.two-steps { flex-direction: row; } }
        .join-box-f { background: var(--color-white); border: 1px solid #e0e0e0; border-radius: var(--border-radius); box-shadow: var(--shadow-soft); text-align: center; overflow: hidden; flex: 1; }
        .join-box-f .step-header-f { padding: 1rem; background-color: var(--brand); color: #ffffff !important; font-family: var(--font-accent); font-size: 1.25rem; font-weight: 900 !important; letter-spacing: 0.05em; line-height: 1.3; }
        .join-box-f.step1-form .step-header-f { background-color: var(--color-form); }
        .join-box-f .step-content-f { padding: 1.5rem 1.25rem; }
        .join-box-f .step-icon-f { font-size: 2.5rem; color: var(--brand); margin-bottom: 0.5rem; }
        .join-box-f.step1-form .step-icon-f { color: var(--color-form); }
        .join-box-f .step-subtitle-f { font-size: 0.9rem; /* 1rem -> 0.9rem */ font-weight: 900; color: var(--color-dark); line-height: 1.4; margin-bottom: 0.5rem; }
        .join-box-f .step-desc-f { font-size: 0.7rem; /* 0.8rem -> 0.7rem */ color: #555; line-height: 1.5; margin-bottom: 1rem; min-height: 3.6em; }
        .btn { display: inline-block; font-weight: 900; font-size: 0.9rem; /* 1rem -> 0.9rem */ padding: 0.75rem 1.5rem; border-radius: 12px; text-decoration: none; transition: transform 0.3s ease, box-shadow 0.3s ease; width: 100%; text-align: center; box-sizing: border-box; }
        .btn:hover { transform: scale(1.03); }
        .btn-app { background: var(--brand); color: var(--color-white); box-shadow: 0 4px 15px rgba(194, 22, 50, 0.3); }
        .btn-app:hover { box-shadow: 0 6px 20px rgba(194, 22, 50, 0.4); }
        .btn-form { background: linear-gradient(45deg, #ff9800, #f57c00); color: var(--color-white); box-shadow: 0 4px 15px rgba(245, 124, 0, 0.3); }
        .btn-form:hover { box-shadow: 0 6px 20px rgba(245, 124, 0, 0.4); }
        .cta-button-extra-promo { display: inline-block; background: var(--brand); color: #ffffff; font-weight: 700; font-size: 0.8rem; /* 0.9rem -> 0.8rem */ padding: 0.8rem 1.5rem; border-radius: 12px; text-decoration: none; margin-top: 1.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease; width: 320px; max-width: 90%; margin-left: auto; margin-right: auto; }
        .cta-button-extra-promo strong { font-size: 1rem; /* 1.1rem -> 1rem */ font-weight: 900; display: block; margin-top: 0.25rem; color: var(--christmas-gold); }
        .cta-button-extra-promo:hover { transform: scale(1.03); box-shadow: 0 6px 20px rgba(0,0,0,0.15); background-color: var(--color-primary-dark); }

        /* --- オプションカルーセル --- */
        .options-group-section {
            background: linear-gradient(145deg, var(--option-section-bg-start) 0%, var(--option-section-bg-end) 100%);
            position: relative;
            z-index: 1;
            color: var(--color-white); 
            border-radius: var(--border-radius); 
            /* 修正: glitter-border-style-yellowを適用 */
            box-shadow: 0 0 0 4px var(--option-section-border-color), var(--shadow-soft); 
            padding: 40px 0; 
            margin: 40px auto; 
            width: 100%;
            overflow: hidden; 
        }
        .options-group-section::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%);
            pointer-events: none;
            z-index: 0;
        }

        .options-carousel-section .text-box {
            background-color: transparent; 
            border: none;
            border-radius: 10px;
            padding: 0 0; 
            margin: 0 auto;
            max-width: 90%;
        }
        .options-carousel-section { 
            padding: 0; 
            background-color: transparent !important; 
            width: 100%; 
            padding-bottom: 20px; 
        }
        .options-carousel-section:first-child { padding-top: 20px; }
        .options-carousel-section:nth-child(2) { margin-top: 20px; }

        .options-carousel-section .section-title { 
            font-size: 1.6rem; 
            font-weight: 900; 
            color: var(--color-white); 
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
            margin-bottom: 0.5rem; 
        }
        .options-carousel-section .section-title .highlight { 
            font-family: var(--font-accent); 
            color: var(--christmas-gold); 
            font-size: 2.5rem; 
            margin: 0 0.25rem; 
            vertical-align: -0.1em; 
        }
        .options-carousel-section .section-subtitle { 
            font-size: 0.9rem; 
            color: #fff; 
            margin-bottom: 2.5rem; max-width: 90%; margin-left: auto; margin-right: auto; line-height: 1.6; 
        }
        /* 修正: オプションセクションのサブタイトル太字化 */
        .options-carousel-section .section-subtitle strong {
            font-weight: 900; 
        }
        .options-group-section .options-carousel-section:first-child .section-subtitle { font-size: 0.75rem; }
        
        .scene { 
            width: 100%; 
            height: 450px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            position: relative; 
            overflow: hidden; 
        }
        .card-carousel { width: 280px; height: 340px; position: relative; }
        .option-card-3d {
            position: absolute; width: 280px; height: 340px; border-radius: var(--border-radius); overflow: hidden;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.5s cubic-bezier(0.25, 1, 0.5, 1), z-index 0s 0.25s;
            box-shadow: var(--shadow-strong), inset 0 0 10px rgba(0,0,0,0.05); border: 4px solid var(--christmas-gold);
            background-color: #ffffff; 
            cursor: pointer; display: flex; flex-direction: column; justify-content: flex-start; padding: 1.5rem 1rem; text-align: center;
            left: 50%; top: 0; transform: translateX(-50%); opacity: 1; z-index: 10;
        }
        
        .card-icon-area { width: 100%; flex-grow: 1; display: flex; justify-content: center; align-items: center; padding-bottom: 1rem; }
        .card-icon { max-width: 150px; max-height: 150px; object-fit: contain; }
        .card-info-area { width: 100%; flex-shrink: 0; }
        .card-title { font-size: 1.25rem; font-weight: 900; color: var(--color-dark); text-shadow: none; line-height: 1.3; }
        .card-price { font-family: var(--font-accent); font-size: 1.6rem; font-weight: 700; color: var(--brand); margin-top: 0.5rem; }
        .card-price .unit { font-family: var(--font-base); font-size: 0.8rem; font-weight: normal; color: #555; }
        .card-description { font-size: 0.8rem; color: #666; margin-top: 0.75rem; line-height: 1.5; min-height: 3.6rem; }
        .card-badge { position: absolute; top: 1rem; left: 1rem; color: white; padding: 0.375rem 0.75rem; font-weight: 900; font-size: 0.8rem; border-radius: 0.375rem; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 5; }
        .card-badge.free { background-color: var(--brand); }
        .card-badge.paid { background-color: var(--christmas-green); }
        .gender-badge { position: absolute; top: 10px; right: 10px; padding: 4px 10px; border-radius: 99px; font-size: 0.75rem; font-weight: 700; color: white; z-index: 5; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .gender-badge.male { background-color: #3b82f6; }
        .gender-badge.female { background-color: #ec4899; }
        .carousel-nav { margin-top: 2.5rem; display: flex; justify-content: center; align-items: center; gap: 1.5rem; }
        .carousel-nav button {
            width: 50px; height: 50px; border-radius: 50%; background-color: var(--color-card-bg); border: 1px solid #ddd;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); color: var(--brand); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s, background-color 0.2s;
        }
        .carousel-nav button i { color: var(--christmas-gold); font-size: 1.8rem; } 

        /* --- 注意事項セクション --- */
        .notice-container-v22 {
            background-color: #fff; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); 
            margin: 60px auto 0 auto; 
            padding: 30px 25px;
            text-align: center; 
            position: relative; 
            max-width: 100%; 
            width: 100%; 
            box-sizing: border-box;
        }
        .notice-container-v22 .notice-title-v22 { font-family: var(--font-accent); font-size: 2.2rem; font-weight: 700; color: var(--brand); margin-bottom: 25px; letter-spacing: 0.05em; display: flex; align-items: center; justify-content: center; }
        .notice-container-v22 .notice-title-v22::before, .notice-container-v22 .notice-title-v22::after { content: ''; flex: 1; height: 3px; background-color: var(--brand); opacity: 0.5; }
        .notice-container-v22 .notice-body-v22 { font-size: 0.85rem; line-height: 1.8; font-weight: 700; color: #333; margin-bottom: 25px; }
        .notice-container-v22 .notice-body-v22 strong { color: #000; background-color: var(--christmas-gold); padding: 2px 6px; border-radius: 4px; }
        .notice-container-v22 .notice-warning-v22 { display: block; font-size: 0.8rem; font-weight: 900; color: #ffffff; background-color: #d32f2f; padding: 12px; border-radius: 8px; margin-top: 20px; }
        .notice-container-v22 .cta-button-video { display: inline-flex; align-items: center; justify-content: center; gap: 8px; background: linear-gradient(45deg, #ffea00, #ffd600); color: var(--color-dark); font-weight: 900; font-size: 1.1rem; padding: 12px 24px; border-radius: 50px; text-decoration: none; margin-top: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .notice-container-v22 .cta-button-video:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }
        .notice-container-v22 .cta-button-video i { font-size: 1.3rem; }

        /* --- 追加特典セクション --- */
        .bonus-section {
            background: var(--color-card-bg); border-radius: var(--border-radius); padding: 2.5rem 1.5rem;
            margin: 2.5rem auto 0 auto; width: 100%; max-width: 640px; box-shadow: var(--shadow-soft); text-align: center;
            /* 修正: glitter-border-styleを適用 (アニメーション付き) */
        }
        .bonus-section .section-main-header { margin-bottom: 1.5rem; }
        .bonus-section .section-main-header h2 { font-size: 1.6rem; font-weight: 900; color: var(--color-dark); line-height: 1.4; font-family: var(--font-accent); }
        .bonus-section .section-main-header h2 .highlight { font-family: var(--font-accent); font-size: 2rem; color: var(--brand); }
        
        .bonus-guide-box {
            display: inline-flex; flex-direction: row; align-items: center; justify-content: center; gap: 0.75rem; padding: 0.75rem 1.5rem;
            border-radius: 12px; font-weight: 900; font-size: 1.1rem; line-height: 1.3; box-shadow: 0 6px 15px rgba(194, 22, 50, 0.4);
            transition: all 0.3s ease; max-width: 90%; margin: 0 auto 2rem auto; white-space: nowrap; text-decoration: none;
            background: #C21632; color: #fff; border: 3px solid #fff;
        }
        .bonus-guide-box:hover { transform: translateY(-3px); box-shadow: 0 8px 18px rgba(0, 0, 0, 0.2); }
        @keyframes bounce-down { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(4px); } }
        .bonus-guide-box .guide-arrow { font-weight: bold; font-size: 1.1rem; animation: bounce-down 1.2s infinite ease-in-out; }
        
        .bonus-section .subsection-title { font-size: 1.1rem; font-weight: 900; color: var(--color-dark); text-transform: none; letter-spacing: 0; margin-bottom: 1.5rem; margin-top: 2.5rem; border-bottom: 3px solid var(--brand); padding-bottom: 0.75rem; font-family: var(--font-accent); }
        .bonus-section .subsection-title:first-child { margin-top: 0; }

        .bonus-button-link {
            display: block;
            text-decoration: none;
            border-radius: 12px;
            padding: 1.25rem 1rem;
            margin-bottom: 1rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background-color: #f8f9fa;
            border: 2px solid #e5e7eb;
            color: var(--color-dark);
            box-shadow: var(--shadow-lifted);
            text-align: center;
        }

        .bonus-button-link:hover { transform: translateY(-3px); box-shadow: var(--shadow-strong); border-color: var(--brand); }
        .bonus-button-link:not(.spotlight) .title { display: inline-block; border: 2px solid var(--brand); color: var(--brand); padding: 0.25rem 0.75rem; border-radius: 8px; font-size: 1rem; font-weight: 900; font-family: var(--font-accent); margin-bottom: 0.5rem; background: #fff; }
        .bonus-button-link.spotlight { background-color: #fffbe6; border-color: #facc15; }
        .bonus-button-link.spotlight .title { color: #a16207; font-size: 1rem; font-weight: 900; font-family: var(--font-accent); margin-bottom: 0.25rem; }
        .bonus-button-link .detail { font-size: 1.15rem; font-weight: 700; font-family: var(--font-accent); color: var(--color-dark); line-height: 1.5; }
        .bonus-button-link .detail .price-spotlight { color: var(--brand); font-weight: 900; font-size: 1.3rem; display: inline-block; }
        .bonus-button-link.spotlight .detail { font-size: 1.3rem; color: #a16207; font-weight: 900; }
        .bonus-button-link.spotlight .detail .price-spotlight { font-size: 1.3rem; color: #a16207; }
        .bonus-button-link .detail .note, .bonus-button-link .detail .duration-note, .bonus-button-link .detail .transfer-note { font-size: 0.75rem; font-weight: 400; color: #555; display: block; margin-top: 0.25rem; line-height: 1.3; }
        .bonus-button-link .detail .duration-note, .bonus-button-link .detail .transfer-note { font-size: 0.85rem; font-weight: 700; color: #333; margin-top: 4px; }

        /* --- アクセスマップセクション --- */
        .access-section { 
            background: var(--color-card-bg); margin: 30px auto; border-radius: var(--border-radius); overflow: hidden; 
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1); transition: all 0.3s ease-out; 
            width: 100%; max-width: 640px; box-sizing: border-box;
        }
        .access-section:hover { transform: translateY(-5px); box-shadow: 0 20px 30px -10px rgba(0, 0, 0, 0.2); }
        .access-header { padding: 0; background: #fff; }
        .map-embed-container { position: relative; width: 100%; height: 400px; border-top: 1px solid #eee; }
        .map-embed-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
        .entrance-photo-container { padding: 25px; background-color: #f8f9fa; border-top: 1px solid #e9ecef; border-bottom: 1px solid #e9ecef; }
        .entrance-photo-container img { width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .entrance-photo-container .caption { font-size: 0.9rem; color: #666; margin-top: 15px; font-weight: 700; }
        
        .access-details { padding: 25px; text-align: left; }
        .access-details strong.store-name { display: block; font-size: 1.3rem; margin-bottom: 20px; text-align: center; color: #333; }
        .access-info-item { display: flex; flex-direction: row; align-items: flex-start; gap: 12px; margin-bottom: 15px; }
        .access-info-item .info-icon { flex-shrink: 0; margin-top: 4px; color: #555; }
        .access-info-item span, .access-info-item a, .access-info-item div { font-size: 1rem; color: #333; line-height: 1.7; }
        .access-info-item > div { display: flex; flex-direction: column; }
        .access-info-item a[href^="tel:"] { color: #333; text-decoration: none; font-weight: normal; }
        .facilities-grid { margin-top: 25px; padding-top: 25px; border-top: 1px solid #e9ecef; display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px 10px; }
        .facility-item { text-align: center; }
        .facility-item .facility-icon { width: 48px; height: 48px; margin: 0 auto 8px auto; object-fit: contain; }
        .facility-item strong { display: block; font-size: 0.9rem; font-weight: 700; color: #333; }
        .facility-item p { font-size: 0.8rem; color: #666; margin: 4px 0 0 0; line-height: 1.4; }
        .map-button-container { padding: 25px; border-top: 1px solid #e9ecef; background-color: #f8f9fa; }
        .map-button { display: inline-flex; align-items: center; justify-content: center; gap: 12px; background-color: #c21632; color: #fff; font-size: 1rem; font-weight: 700; text-decoration: none; padding: 12px 24px; border-radius: 14px; box-shadow: 0 6px 15px rgba(194, 22, 50, 0.4); transition: all 0.3s ease; }
        @media (max-width: 640px) { .facilities-grid { grid-template-columns: repeat(2, 1fr); gap: 25px 15px; } }

        /* --- 固定バナー --- */
        .fixed-banner { position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(5px); display: flex; justify-content: center; gap: 10px; padding: 10px; z-index: 9999; border-top: 3px solid var(--christmas-gold); box-shadow: 0 -5px 20px rgba(194, 22, 50, 0.8); transition: transform 0.4s ease; }
        .fixed-banner .banner-btn { font-size: 14px; font-weight: 900; color: #fff; padding: 12px 10px; border-radius: 12px; text-decoration: none; flex: 1; position: relative; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 0 10px rgba(194, 22, 50, 0.5); border: 1px solid #C21632; z-index: 1; }
        .fixed-banner .banner-btn::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: rgba(255, 255, 255, 0.1); transform: rotate(30deg); transition: all 0.3s ease; }
        .fixed-banner .banner-btn:hover::before { transform: rotate(30deg) translate(20px, 20px); }
        .fixed-banner .app { background: var(--brand); animation: neon-pulse 1.8s infinite alternate; }
        .fixed-banner .trial { background: var(--christmas-green); box-shadow: 0 0 10px rgba(0, 100, 0, 0.8); border: 1px solid var(--christmas-green); }
        @keyframes neon-pulse { from { box-shadow: 0 0 10px #C21632, 0 0 20px #C21632 inset; } to { box-shadow: 0 0 20px #C21632, 0 0 40px #C21632 inset; } }
        
        #banner-toggle-container { position: fixed; bottom: 100px; right: 20px; z-index: 10000; transition: bottom 0.4s ease; }
        #banner-toggle-btn { width: 50px; height: 50px; background-color: var(--brand); color: white; border-radius: 50%; border: 2px solid white; box-shadow: 0 4px 12px rgba(0,0,0,0.3); cursor: pointer; display: flex; justify-content: center; align-items: center; transition: transform 0.3s ease; }
        #banner-toggle-btn:hover { transform: scale(1.1); }
        #banner-toggle-btn svg { width: 24px; height: 24px; }
        .tooltip { position: absolute; bottom: 110%; right: 0; background-color: #333; color: white; padding: 8px 14px; border-radius: 8px; font-size: 14px; font-weight: 700; white-space: nowrap; opacity: 0; visibility: hidden; transform: translateY(10px); transition: opacity 0.4s ease, transform 0.4s ease, visibility 0.4s ease; pointer-events: none; }
        .tooltip::after { content: ''; position: absolute; top: 100%; right: 17px; border-width: 6px; border-style: solid; border-color: #333 transparent transparent transparent; }
        .tooltip.show { opacity: 1; visibility: visible; transform: translateY(0); }
        #banner-toggle-btn.shake { animation: shake-animation 0.5s 2 ease-in-out; }
        @keyframes shake-animation { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-4px); } 75% { transform: translateX(4px); } }
        body.banners-hidden { padding-top: 0 !important; padding-bottom: 20px !important; }
        body.banners-hidden .fixed-banner { transform: translateY(100%); }
        body.banners-hidden #banner-toggle-container { bottom: 20px; }

    </style>
</head>

<body>

<!-- コンテンツ全体をラッパーで囲み、中央寄せを保証 -->
<div class="lp-wrapper">

    <div id="limited-time-banner" class="glitter-border-style">
        <div class="banner-left-content">
            <div class="banner-text-row-top">
                <span class="banner-date" id="dynamic-end-date"></span>
                <span class="banner-slots-badge" id="remaining-slots">残り10名様</span>
            </div>
            <div class="banner-text-row-bottom">
                <span class="mascot-star">★</span>
                <span>終了まで.....</span>
                <span class="mascot-star">★</span>
            </div>
        </div>
        <div id="banner-countdown" class="countdown-container"></div>
    </div>

    <!-- プラン選択セクション -->
    <section class="plan-selection-section py-8 glitter-border-style">
        <h2 style="color: var(--color-dark);">選べる<span>2</span>つの入会プラン</h2>
        <div class="plan-tabs">
            <button class="plan-tab-button active" data-plan="plan1">① 通常プラン<span class="badge" style="background-color: var(--christmas-gold); color: #000;">継続の縛りなし</span></button>
            <button class="plan-tab-button" data-plan="plan2">② 6ヶ月継続プラン<span class="badge" style="background-color: var(--christmas-gold); color: #000;">人気No.1</span></button>
        </div>

        <div id="plan1" class="plan-content active">
            <div class="plan-accordion-content">
                <div class="price-showcase" style="margin-top: 0rem;">
                    <div class="price-header"><div class="title">12月限定キャンペーン</div></div>
                    <div class="price-list">
                        <div class="price-item">
                            <!-- ラベル下に「1日あたり...」を表示するためのプレースホルダーを追加 -->
                            <div class="label-group">
                                <span class="number-circle" style="background-color: #333;">1</span>
                                <div class="label">12月会費<span id="label-daily-rate-plan1" class="note" style="color: var(--brand); font-weight: 700; display: block; font-size: 0.85rem;"></span></div>
                            </div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center" id="daily-rate-price-plan1">
                                <!-- JSにより動的に挿入される -->
                                <span class="price-value">0<span class="unit">円</span></span>
                                <span class="calculation-note-final">
                                    本日X日入会の場合<br>
                                    ※誤差の可能性有り
                                
</span>
                            </div>
                        </div>
                        <div class="price-item is-discount">
                            <div class="label-group"><span class="number-circle" style="background-color: var(--brand);">2</span><div class="label">オプション<span class="note" style="color: var(--brand); font-weight: 700;">12月分</span></div></div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center"><span class="price-value zero-yen">0<span class="unit">円</span></span><span class="free-option-note">(無料オプション8つ)</span></div>
                        </div>
                        <div class="price-item-footnote" style="padding-top: 0.5rem; padding-bottom: 1rem; text-align: center; border-bottom: 1px dashed #ccc;">
                            <a href="#options-group-section" style="display: inline-block; background-color: var(--brand); color: white; font-weight: 900; font-size: 0.9rem; text-decoration: none; padding: 0.5rem 1rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">自動契約オプション詳細はコチラ</a>
                        </div>
                        <div class="price-item">
                            <div class="label-group"><span class="number-circle" style="background-color: #333;">3</span><div class="label">事務手数料</div></div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center"><span class="original"></span><span class="price-value">3,300<span class="unit">円</span></span></div>
                        </div>
                        <div class="price-item">
                            <div class="label-group"><span class="number-circle" style="background-color: #333;">4</span><div class="label">入会金</div></div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center"><span class="original"></span><span class="price-value">2,200<span class="unit">円</span></span></div>
                        </div>
                    </div>
                    <div class="price-total">
                        <div class="label"><span class="calculation-note" id="total-note-plan1">合計 12月</span></div>
                        <div class="price" id="total-price-plan1">0<span class="unit">円</span></div>
                    </div>
                    <div class="monthly-fee">
                        <div class="label">**1月以降の月額**</div>
                        <div><span class="price-large">9,350<span class="unit-large">円(税込)</span></span><span class="plus">+</span><span class="option-fee">オプション料金</span></div>
                    </div>
                </div>
                <div class="plan-conditions-list" style="border-top: none; padding-top: 1rem; margin-top: 1.5rem; margin-bottom: 0;">
                    <ul><li><i class="ph ph-warning-circle"></i><span><strong>当月末退会のみ 5,500円</strong>の解約金が発生致します。</span></li></ul>
                </div>
                <p class="plan-option-note">※無料オプション8つは12月自動契約されます<br>不要な場合は**12月末**までに解除が必須です</p>
                <div class="how-to-join-container">
                    <div class="steps-container">
                        <div class="join-box-f">
                            <div class="step-header-f">ご入会方法</div>
                            <div class="step-content-f">
                                <i class="ph ph-device-mobile step-icon-f"></i>
                                <h4 class="step-subtitle-f">JOYFITAPPをインストール</h4>
                                <p class="step-desc-f">アプリで入会をタップしてご入会</p>
                                <a href="https://joyfit.jp/kyodo/app_join/" target="_blank" rel="noopener noreferrer" class="btn btn-app">アプリDLはコチラ👆</a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="cta-button-extra-promo">さらにお得に入会したい方<br><strong>追加特典に関してはこちら</strong></a>
            </div>
        </div>

        <div id="plan2" class="plan-content">
            <div class="plan-accordion-content">
                <div class="price-showcase" style="margin-top: 0rem;">
                    <div class="price-header"><div class="title">12月限定キャンペーン</div></div>
                    <div class="price-list">
                        <div class="price-item">
                            <!-- ラベル下に「1日あたり...」を表示するためのプレースホルダーを追加 -->
                            <div class="label-group">
                                <span class="number-circle" style="background-color: #333;">1</span>
                                <div class="label">12月会費<span id="label-daily-rate-plan2" class="note" style="color: var(--brand); font-weight: 700; display: block; font-size: 0.85rem;"></span></div>
                            </div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center" id="daily-rate-price-plan2">
                                <!-- JSにより動的に挿入される -->
                                <span class="price-value">0<span class="unit">円</span></span>
                                <span class="calculation-note-final">
                                    本日X日入会の場合<br>
                                    ※誤差の可能性有り
                                </span>
                            </div>
                        </div>
                        <div class="price-item is-discount">
                            <div class="label-group"><span class="number-circle" style="background-color: var(--brand);">2</span><div class="label">オプション<span class="note" style="color: var(--brand); font-weight: 700;">12月分</span></div></div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center"><span class="price-value zero-yen">0<span class="unit">円</span></span><span class="free-option-note">(無料オプション8つ)</span></div>
                        </div>
                        <div class="price-item-footnote" style="padding-top: 0.5rem; padding-bottom: 1rem; text-align: center; border-bottom: 1px dashed #ccc;">
                            <a href="#options-group-section" style="display: inline-block; background-color: var(--brand); color: white; font-weight: 900; font-size: 0.9rem; text-decoration: none; padding: 0.5rem 1rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">自動契約オプション詳細はコチラ</a>
                        </div>
                        <div class="price-item">
                            <div class="label-group"><span class="number-circle" style="background-color: #333;">3</span><div class="label">事務手数料</div></div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center"><span class="original"></span><span class="price-value">3,300<span class="unit">円</span></span></div>
                        </div>
                        <div class="price-item">
                            <div class="label-group"><span class="number-circle" style="background-color: #333;">4</span><div class="label">入会金</div></div>
                            <div class="divider-dot"></div>
                            <div class="price-display-center"><span class="original"></span><span class="price-value">2,200<span class="unit">円</span></span></div>
                        </div>
                    </div>
                    <div class="price-total">
                        <div class="label"><span class="calculation-note" id="total-note-plan2">合計 12月</span></div>
                        <div class="price" id="total-price-plan2">0<span class="unit">円</span></div>
                    </div>
                    <div class="special-discount-block">
                        <div class="price-content">
                            <div class="label">1月〜6月 (6ヶ月間)</div>
                            <!-- ▼ 変更点 1: スタイル統一のための div ラッパーを追加 -->
                            <div class="price-display-aligned">
                                <span class="price-large">7,150<span class="unit-large">円(税込)</span></span>
                                <span class="plus">+</span>
                                <span class="option-fee">オプション料金</span>
                            </div>
                            <!-- ▲ 変更点 1: ここまで -->
                            <div class="discount-note">(通常 <s>9,350円</s> から <strong>2,200円引</strong>)</div>
                        </div>
                    </div>
                    <div class="monthly-fee">
                        <div class="label">7月以降</div>
                        <div><span class="price-large">9,350<span class="unit-large">円(税込)</span></span><span class="plus">+</span><span class="option-fee">オプション料金</span></div>
                    </div>
                </div>
                <div class="plan-conditions-list">
                    <ul>
                        <!-- ▼ 変更点 2: li の align-items: center 適用のため、li 内の要素を span で囲むなど調整不要。
                                            CSS側で li の align-items: center に設定済みなので、ここでは class の修正のみで対応。 -->
                        <li><i class="ph ph-calendar-check"></i><span>満6ヶ月の在籍(<span id="plan2-end-date">2026年6月末まで</span>)が条件です</span></li>
                        <li><i class="ph ph-device-mobile-camera"></i><span>通常プラン同様JOYFITAPPからの入会が必須です</span></li>
                        <li><i class="ph ph-file-arrow-up"></i><span>APP入会+6ヶ月継続プラン申請で完了になります</span></li>
                        <li><i class="ph ph-warning-circle"></i><span>途中退会をすると<strong>解約金13,200円</strong>が発生します</span></li>
                    </ul>
                    <p class="plan-option-note">※無料オプション8つは12月自動契約されます<br>不要な場合は**12月末**までに解除が必須です</p>
                </div>
                <div class="how-to-join-container">
                    <div class="steps-container"> 
                        <div class="join-box-f step1-form">
                            <div class="step-header-f">ステップ1:<br>6ヶ月継続プラン申請</div>
                            <div class="step-content-f">
                                <i class="ph ph-file-text step-icon-f"></i>
                                <h4 class="step-subtitle-f">新規入会者限定</h4>
                                <p class="step-desc-f">下記の専用フォームから簡単申請!</p>
                                <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="btn btn-form">申請フォームはコチラ</a>
                            </div>
                        </div>
                        <div class="join-box-f">
                            <div class="step-header-f">ステップ2:<br>アプリ入会</div>
                            <div class="step-content-f">
                                <i class="ph ph-device-mobile step-icon-f"></i>
                                <h4 class="step-subtitle-f">APPから入会</h4>
                                <p class="step-desc-f">アプリで入会をタップしてご入会</p>
                                <a href="https://joyfit.jp/kyodo/app_join/" target="_blank" rel="noopener noreferrer" class="btn btn-app">アプリDLはコチラ👆</a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="cta-button-extra-promo">さらにお得に入会したい方<br><strong>追加特典に関してはこちら</strong></a>
            </div>
        </div>
    </section>

    <!-- オプションカルーセルセクション -->
    <!-- 修正: glitter-border-style-yellowを適用 -->
    <section class="options-group-section glitter-border-style-yellow" id="options-group-section">
        <section class="options-carousel-section">
            <div class="text-box" style="width: 100%; max-width: 640px; margin: 0 auto; padding: 0 15px;">
                <h2 class="section-title">
                    <span class="highlight">8</span>つの初月無料オプション
                </h2>
                <!-- 修正: オプションセクションのサブタイトル太字化 -->
                <p class="section-subtitle">
                    <strong>キャンペーン期間中<br>オプションが12月無料で使い放題！<br>※8つのオプションは入会時自動契約されます。</strong>
                </p>
            </div>
            <div class="scene">
                <div id="card-carousel-free" class="card-carousel">
                    <!-- JSで動的に生成されます -->
                </div>
            </div>
            <div class="carousel-nav">
                <button id="carousel-prev-free">
                    <i class="ph ph-arrow-left"></i>
                </button>
                <button id="carousel-next-free">
                    <i class="ph ph-arrow-right"></i>
                </button>
            </section>
        
        <section class="options-carousel-section" style="margin-top: 60px;">
            <div class="text-box" style="width: 100%; max-width: 640px; margin: 0 auto; padding: 0 15px;">
                <h2 class="section-title">
                    <span class="highlight">3</span>つの有料オプション
                </h2>
                <p class="section-subtitle">
                    ※こちらはご希望の方のみ契約いただけます
                </p>
            </div>
            <div class="scene">
                <div id="card-carousel-paid" class="card-carousel">
                    <!-- JSで動的に生成されます -->
                </div
>
            </div>
            <div class="carousel-nav">
                <button id="carousel-prev-paid">
                    <i class="ph ph-arrow-left"></i>
                </button>
                <button id="carousel-next-paid">
                    <i class="ph ph-arrow-right"></i>
                </button>
            </div>
        </section>
    </section>

    <!-- 注意事項セクション -->
    <div class="notice-container-v22 glitter-border-style" id="notice-section">
        <div class="notice-title-v22">
            <span>注意事項</span>
        </div>
        <div class="notice-body-v22">
            オプションは入会時に<strong>自動契約</strong>となります<br />
            不要な場合<strong>12月末迄</strong>に解約をお願いいたします<br /><br />
            入会後<strong>[JOYFITAPP]</strong>から解約が可能です<br />
            解約後も月末迄サービスをご利用頂けます
        </div>
        <span class="notice-warning-v22">※解約忘れによる返金は出来ません</span>
        <a href="https://www.youtube.com/shorts/qpvkmWi-vTM" class="cta-button-video" target="_blank" rel="noopener noreferrer">
            <i class="ph ph-youtube-logo"></i>
            <span>解約方法はコチラをタップ</span>
        </a>
    </div>

    <!-- 追加特典セクション -->
    <!-- 修正: glitter-border-styleを適用 -->
    <section class="bonus-section glitter-border-style">
        <div class="section-main-header">
            <h2 id="benefits-heading">選べる！<span class="highlight">追加特典</span>一覧</h2>
        </div>

        <a href="#benefits-heading" class="bonus-guide-box" onclick="event.preventDefault(); document.getElementById('benefits-heading').scrollIntoView({ behavior: 'smooth' });">
            <span class="guide-arrow">⇩</span>
            <span class="guide-text">申請はバナーをタップ</span>
            <span class="guide-arrow">⇩</span>
        </a>

        <h3 class="subsection-title">イチオシ！ (併用可能)</h3>
        <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="bonus-button-link spotlight">
            <span class="title">友達紹介＆ペア入会</span>
            <p class="detail">
                ENJOYポイント
                <span class="price-spotlight">5,000pt</span>
                <span class="note">(紹介者さま・ご入会者さまそれぞれ)</span>
            </p>
        </a>

        <h3 class="subsection-title">その他の特典 (最大2つまで)</h3>
        
        <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="bonus-button-link">
            <span class="title">6ヶ月継続プラン</span>
            <p class="detail">
                月会費 <span class="price-spotlight">7,150円</span>(税込)
                <span class="duration-note">翌月から6ヶ月間 適用</span>
            </p>
        </a>
        
        <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="bonus-button-link">
            <span class="title">他クラブ移籍</span>
            <p class="detail">
                翌月会費 <span class="price-spotlight">0円</span>
                <span class="transfer-note">※移籍証明となる画像が必要です。</span>
            </p>
        </a>
        
        <a href="https://24-kyodo-plan.netlify.app/#benefits" target="_blank" rel="noopener noreferrer" class="bonus-button-link">
            <span class="title">学校関係者割り</span>
            <p class="detail">
                学生 <span class="price-spotlight">7,150円</span>(税込)
                <br>
                教職員 <span class="price-spotlight">8,250円</span>(税込)
                <span class="duration-note">翌月から卒業見込み月まで 適用</span>
            </p>
        </a>
    </section>

    <!-- アクセスマップセクション -->
    <section class="access-section glitter-border-style">
        <header class="access-header">
            <img src="joylogo.jpg" alt="JOYFIT24経堂 アクセスマップ" onerror="this.onerror=null; this.src='https://placehold.co/600x200/C21632/ffffff?text=JOYFIT24+KYODO';">
        </header>
        <div class="map-embed-container">
            <iframe
                src="https://www.google.com/maps?q=JOYFIT24経堂,東京都世田谷区経堂5-23-13&output=embed"
                allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
        <div class="entrance-photo-container">
            <p class="caption">店舗外観</p>
            <img src="entrance.jpg" alt="JOYFIT24 経堂 店舗の外観" onerror="this.onerror=null; this.src='https://placehold.co/600x400/e0e0e0/C21632?text=Store+Exterior';">
        </div>
        <div class="access-details">
            <strong class="store-name">JOYFIT24経堂</strong>
            <div class="access-info-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="info-icon"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                <span>〒156-0052<br>東京都世田谷区経堂5-23-13 2F・3F</span>
            </div>
            <div class="access-info-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="info-icon"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                <div><strong>アクセス</strong><br>小田急線「経堂駅」より徒歩9分</div>
            </div>
            <div class="access-info-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="info-icon"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                <a href="tel:03-6804-4100">03-6804-4100</a>
            </div>
            <div class="access-info-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="info-icon"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                <div>
                    <strong>受付時間</strong>
                    <span>平日 10:00～21:00</span>
                    <span>土日祝 12:00～20:00</span>
                    <small>※毎週月曜日・木曜日は終日スタッフ不在</small>
                </div>
            </div>
            <div class="facilities-grid">
                <div class="facility-item"><img src="a.jpg" alt="ジムエリア" class="facility-icon"><strong>2Fジムエリア</strong><p>広々空間×充実マシン</p></div>
                <div class="facility-item"><img src="b.jpg" alt="スタジオエリア" class="facility-icon"><strong>3Fスタジオエリア</strong><p>ホットスタジオ</p></div>
                <div class="facility-item"><img src="c.jpg" alt="24時間営業" class="facility-icon"><strong>24時間営業</strong><p>※2Fジムエリア</p></div>
                <div class="facility-item"><img src="d.jpg" alt="土足OK" class="facility-icon"><strong>土足OK</strong><p>※サンダル＆裸足は×</p></div>
                <div class="facility-item"><img src="h.jpg" alt="駐車場・駐輪場" class="facility-icon"><strong>無料駐車場6台</strong><p>※駐輪場もあります</p></div>
                <div class="facility-item"><img src="e.jpg" alt="シャワールーム" class="facility-icon"><strong>シャワールーム</strong><p>男女別計19部屋</p></div>
                <div class="facility-item"><img src="g.jpg" alt="女性ミストサウナ" class="facility-icon"><strong>女性ミストサウナ</strong><p>約40℃設定</p></div>
                <div class="facility-item"><img src="f.jpg" alt="男性ドライサウナ" class="facility-icon"><strong>男性ドライサウナ</strong><p>約80℃設定</p></div>
            </div>
        </div>
        <div class="map-button-container">
            <a href="https://www.google.com/maps/search/?api=1&query=JOYFIT24経堂,東京都世田谷区経堂5-23-13" class="map-button" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="info-icon"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>
                <span>Googleマップでルートを確認</span>
            </a>
        </div>
    </section>

</div> <!-- lp-wrapper end -->

<div class="fixed-banner">
    <!-- 修正: 見学体験のURLはVercelのURLに差し替え済み -->
    <a href="https://24-kyodo-freetrial.vercel.app/" class="banner-btn trial" target="_blank">見学体験はコチラ👆</a>
    <a href="https://joyfit.jp/kyodo/app_join/" class="banner-btn app" target="_blank">入会はコチラ👆</a>
</div>

<div id="banner-toggle-container">
    <button id="banner-toggle-btn" aria-label="バナーの表示を切り替える"></button>
    <div id="banner-tooltip" class="tooltip">タップでバナーを隠せます</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const timeZone = 'Asia/Tokyo';
    const now = new Date(new Date().toLocaleString("en-US", { timeZone: timeZone }));
    
    // --- カウントダウン期間設定 ---
    const CAMPAIGN_YEAR = now.getFullYear(); 
    // キャンペーン終了日: 12月14日 23:59:59 (JavaScriptの月は0始まり、12月は11)
    const CAMPAIGN_END_DATE = new Date(CAMPAIGN_YEAR, 11, 14, 23, 59, 59, 999);
    // キャンペーン開始日: 12月1日 00:00:00
    const CAMPAIGN_START_DATE = new Date(CAMPAIGN_YEAR, 11, 1, 0, 0, 0, 0); 

    // 日付表示を動的に更新
    const format = new Intl.DateTimeFormat('ja-JP', { month: 'numeric', day: 'numeric', weekday: 'short' });
    const formattedDate = format.format(CAMPAIGN_END_DATE).replace('(', '(').replace(')', ')');

    const dynamicEndDateEl = document.getElementById('dynamic-end-date');
    if (dynamicEndDateEl) {
        dynamicEndDateEl.textContent = `${formattedDate}まで`;
    }
    
    const remainingSlotsEl = document.getElementById('remaining-slots');
    
    /**
     * 残り人数計算 (固定期間: 12月1日〜12月14日)
     */
    function getRemainingSlots(currentDate) {
        const today = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());
        const fixedStartDate = new Date(CAMPAIGN_START_DATE.getFullYear(), CAMPAIGN_START_DATE.getMonth(), CAMPAIGN_START_DATE.getDate());
        const fixedEndDate = new Date(CAMPAIGN_END_DATE.getFullYear(), CAMPAIGN_END_DATE.getMonth(), CAMPAIGN_END_DATE.getDate());

        const maxSlots = 10;
        const minSlots = 1;
        const totalDurationDays = 14; 

        if (today.getTime() > fixedEndDate.getTime()) { return 0; }
        if (today.getTime() < fixedStartDate.getTime()) { return maxSlots; }

        const diffTime = today.getTime() - fixedStartDate.getTime();
        const diffDays = Math.max(0, Math.floor(diffTime / (1000 * 60 * 60 * 24)));
        
        const reductionRange = maxSlots - minSlots; // 9
        const slotsDecreased = Math.floor((diffDays / (totalDurationDays - 1)) * reductionRange);
        
        let slots = maxSlots - slotsDecreased;
        return Math.max(slots, minSlots);
    }
    
    function updateRemainingSlots() {
        const now = new Date(new Date().toLocaleString("en-US", { timeZone: timeZone }));
        const slots = getRemainingSlots(now);
        if (remainingSlotsEl) {
            if (slots > 0 && now.getTime() < CAMPAIGN_END_DATE.getTime()) {
                remainingSlotsEl.textContent = `残り${slots}名様`;
            } else {
                remainingSlotsEl.textContent = `終了しました`;
            }
        }
    }
    updateRemainingSlots();
    setInterval(updateRemainingSlots, 60 * 60 * 1000);

    const banner = document.getElementById('limited-time-banner');
    let countdownInterval;

    function createCountdownHTML(days, hours, minutes, seconds) {
        return `
            <div class="countdown-circle"><div class="countdown-number">${String(days).padStart(2, '0')}</div><div class="countdown-unit">日</div></div>
            <div class="countdown-circle"><div class="countdown-number">${String(hours).padStart(2, '0')}</div><div class="countdown-unit">時間</div></div>
            <div class="countdown-circle"><div class="countdown-number">${String(minutes).padStart(2, '0')}</div><div class="countdown-unit">分</div></div>
            <div class="countdown-circle"><div class="countdown-number">${String(seconds).padStart(2, '0')}</div><div class="countdown-unit">秒</div></div>
        `;
    }
    function updateAllCountdowns() {
        const now = new Date(new Date().toLocaleString("en-US", { timeZone: timeZone }));
        const distance = CAMPAIGN_END_DATE.getTime() - now.getTime();
        const bannerCountdownContainer = document.getElementById('banner-countdown');
        if (distance > 0) {
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            const countdownHTML = createCountdownHTML(days, hours, minutes, seconds);
            if (bannerCountdownContainer) bannerCountdownContainer.innerHTML = countdownHTML;
        } else {
            clearInterval(countdownInterval);
            const endMessage = "<p style='font-size: 1rem; font-weight: 700; color: var(--brand);'>キャンペーンは終了しました</p>";
            if (bannerCountdownContainer) bannerCountdownContainer.innerHTML = endMessage;
            if (remainingSlotsEl) remainingSlotsEl.textContent = `終了しました`;
        }
    }
    function checkCampaignPeriod() {
        const now = new Date(new Date().toLocaleString("en-US", { timeZone: timeZone }));
        const isCampaignActive = now < CAMPAIGN_END_DATE; 
        if (banner) {
            if (isCampaignActive) {
                updateAllCountdowns();
                countdownInterval = setInterval(updateAllCountdowns, 1000);
            } else {
                const endMessage = "<p style='font-size: 1rem; font-weight: 700; color: var(--brand);'>キャンペーンは終了しました</p>";
                document.getElementById('banner-countdown').innerHTML = endMessage;
                if (countdownInterval) clearInterval(countdownInterval);
            }
        }
        return isCampaignActive;
    }
    checkCampaignPeriod();
    
    const toggleContainer = document.getElementById('banner-toggle-container');
    const toggleBtn = document.getElementById('banner-toggle-btn');
    const tooltip = document.getElementById('banner-tooltip');
    const body = document.body;
    const hideIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13,5V11H14.17L12,13.17L9.83,11H11V5H13M15,3H9V9H5L12,16L19,9H15V3M19,18H5V20H19V18Z" /></svg>`;
    const showIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11,19V13H9.83L12,10.83L14.17,13H13V19H11M9,21V15H5L12,8L19,15H15V21H9M5,6H19V4H5V6Z" /></svg>`;
    let areBannersHidden = localStorage.getItem('bannersHidden') === 'true';
    document.body.classList.remove('no-scroll');
    
    if(areBannersHidden) {
        body.classList.add('banners-hidden');
        toggleBtn.innerHTML = showIcon;
    } else {
        body.classList.remove('banners-hidden');
        toggleBtn.innerHTML = hideIcon;
    }
    toggleBtn.addEventListener('click', () => {
        areBannersHidden = !areBannersHidden;
        body.classList.toggle('banners-hidden', areBannersHidden);
        localStorage.setItem('bannersHidden', areBannersHidden);
        toggleBtn.innerHTML = areBannersHidden ? showIcon : hideIcon;
    });
    if (toggleContainer && tooltip) {
        setTimeout(() => {
            tooltip.classList.add('show');
            toggleBtn.classList.add('shake');
            setTimeout(() => {
                tooltip.classList.remove('show');
            }, 5000);
        }, 1000); 
    }
    
    // --- 画像定義リスト ---
    const freeOptions = [
        { name: 'ホットスタジオ', price: '月額 1,100円', icon_img: '36.png', description: '世田谷エリア最大級<br>のレッスンで滝汗体験!' },
        { name: '水素水 & プロテイン', price: '月額 3,240円', icon_img: '37.png', description: '水素水＋プロテイン<br>[１日６杯迄]のお得なセット' },
        { name: 'レンタルマット', price: '月額 1,100円', icon_img: '38.png', description: 'マットを持ってこなくてＯＫ!<br>ホットスタジオ参加には必須!' },
        { name: 'ボディプランナー', price: '月額 550円', icon_img: '39.png', description: '体脂肪、筋肉量を測定し<br>トレーニングを最適化' },
        { name: 'レンタルタオル', price: '月額 1,650円', icon_img: '40.png', description: '汗をかいても安心レンタル<br>フェイスタオル・バスタオル' },
        { name: 'あんしんサポートVIP', price: '月額 825円', icon_img: '41.png', description: '万が一の時にも安心な<br>JOYFIT専用サポートプラン' },
        { name: 'オンラインレッスン', price: '月額 1,100円', icon_img: '42.png', description: '自宅で本格的なレッスンが出来る!<br>ジムに来れない日でも安心' },
        { name: 'タンニングマシン', price: '月額 5,500円', icon_img: '44.png', gender: 'male', genderText: '男性限定', description: '理想の日焼け肌を手に入れたい方へ!<br>※1日20分まで' },
        { name: 'セルフエステ', price: '月額 3,300円', icon_img: '45.png', gender: 'female', genderText: '女性限定', description: 'エステサロンと同じ<br>業務用マシンが使い放題' }
    ];
    const paidOptions = [
        { name: '契約ロッカー', price: '月額 1,650円', icon_img: '43.png', description: 'ウェアやシューズを置いたままに<br>あなた専用のロッカー' },
        { name: 'ピラティスリフォーマー', price: '月額 3,300円', icon_img: '46.png', description: 'ピラティスマシンを使い<br>体幹等を鍛える本格レッスン' },
        { name: 'ヨガマットロッカー', price: '月額 1,100円', icon_img: '47.png', description: 'ご自身のヨガマットを保管<br>荷物を減らしたい方へ' }
    ];

    function initializeCarousel(options, containerId, navPrevId, navNextId, isPaid) {
        const carouselContainer = document.getElementById(containerId);
        const prevBtn = document.getElementById(navPrevId);
        const nextBtn = document.getElementById(navNextId);
        if (!carouselContainer || !prevBtn || !nextBtn) return;
        
        const createCardHTML = (option) => `
            <div class="option-card-3d">
                <div class="card-badge ${isPaid ? 'paid' : 'free'}">${isPaid ? '有料オプション' : '無料オプション'}</div>
                ${option.gender ? `<div class="gender-badge ${option.gender}">${option.genderText}</div>` : ''}
                <div class="card-icon-area">
                    <img src="./${option.icon_img}" 
                         alt="${option.name}" 
                         class="card-icon"
                         onerror="this.onerror=null; this.src='https://placehold.co/150x150/transparent/cccccc?text=NoImage';">
                </div>
                <div class="card-info-area">
                    <h4 class="card-title">${option.name}</h4>
                    <p class="card-price">${option.price.split(' ')[1]}<span class="unit"> / ${option.price.split(' ')[0]}(税込)</span></p>
                    <p class="card-description">${option.description}</p>
                </div>
            </div>`;
        carouselContainer.innerHTML = options.map(createCardHTML).join('');
        const cards = carouselContainer.querySelectorAll('.option-card-3d');
        
        const totalCards = cards.length;
        if (totalCards === 0) return;
        let currentIndex = 0;
        function setupCarousel() { updateCarousel(true); }
        function updateCarousel(isInitial = false) {
            const transitionSpeed = isInitial ? '0s' : '0.5s';
            const activeIndex = (currentIndex % totalCards + totalCards) % totalCards;
            cards.forEach((card, index) => {
                const relativePos = ((index - activeIndex + totalCards) % totalCards);
                let transform = ''; let opacity = 0; let zIndex = 0;
                card.style.transition = `transform ${transitionSpeed} cubic-bezier(0.25, 1, 0.5, 1), opacity ${transitionSpeed} cubic-bezier(0.25, 1, 0.5, 1)`;
                switch (relativePos) {
                    case 0: transform = 'translateX(-50%) scale(1)'; opacity = 1; zIndex = 20; card.classList.add('is-active'); break;
                    case 1: transform = 'translateX(20%) scale(0.85)'; opacity = 0.6; zIndex = 10; card.classList.remove('is-active'); break;
                    case totalCards - 1: transform = 'translateX(-120%) scale(0.85)'; opacity = 0.6; zIndex = 10; card.classList.remove('is-active'); break;
                    default: 
                        if (relativePos < totalCards / 2) { transform = `translateX(50%) scale(0.6)`; } 
                        else { transform = `translateX(-150%) scale(0.6)`; }
                        opacity = 0; zIndex = 0; card.classList.remove('is-active'); break;
                }
                card.style.transform = transform; card.style.opacity = opacity; card.style.zIndex = zIndex;
            });
        }
        prevBtn.addEventListener('click', () => { currentIndex--; updateCarousel(); });
        nextBtn.addEventListener('click', () => { currentIndex++; updateCarousel(); });
        
        let autoRotateInterval;
        const startAutoRotate = () => { if (autoRotateInterval) clearInterval(autoRotateInterval); autoRotateInterval = setInterval(() => { currentIndex++; updateCarousel(); }, 3000); };
        const stopAutoRotate = () => { if (autoRotateInterval) clearInterval(autoRotateInterval); };
        [carouselContainer, prevBtn, nextBtn].forEach(el => { el.addEventListener('mouseenter', stopAutoRotate); el.addEventListener('mouseleave', startAutoRotate); el.addEventListener('touchstart', stopAutoRotate, { passive: true }); el.addEventListener('touchend', startAutoRotate, { passive: true }); });
        
        setupCarousel(); startAutoRotate();
    }
    initializeCarousel(freeOptions, 'card-carousel-free', 'carousel-prev-free', 'carousel-next-free', false);
    initializeCarousel(paidOptions, 'card-carousel-paid', 'carousel-prev-paid', 'carousel-next-paid', true);

    function calculatePrice(planPrefix) {
        const planElement = document.getElementById(planPrefix);
        if (!planElement) { return; }

        const MONTHLY_FEE = 9350;
        const DAYS_IN_DECEMBER = 31;
        const DAILY_RATE = MONTHLY_FEE / DAYS_IN_DECEMBER;
        const priceEl = document.getElementById(`daily-rate-price-${planPrefix}`);
        const totalEl = document.getElementById(`total-price-${planPrefix}`);
        const totalNoteEl = document.getElementById(`total-note-${planPrefix}`);
        const optionNoteEl = planElement.querySelector('.price-item.is-discount .note');
        
        // --- 修正箇所: 左側のラベルの下に日割り単価を表示 ---
        // IDで対象のspan要素を取得
        const labelNoteEl = document.getElementById(`label-daily-rate-${planPrefix}`);

        if (!priceEl || !totalEl || !totalNoteEl) return;
        
        try {
            const currentDay = now.getDate(); 

            let calculatedTotal = 0;
            let currentMonthFee = 0;
            const INITIAL_FEE = 5500; 

            const remainingDays = DAYS_IN_DECEMBER - currentDay + 1;
            currentMonthFee = Math.round(DAILY_RATE * remainingDays);
            
            calculatedTotal = currentMonthFee + INITIAL_FEE;
            const perDayCost = Math.round(DAILY_RATE);
            
            // ラベルの下に「1日あたり...」を表示 
            if (labelNoteEl) {
                // 修正: 1日あたりの料金表示も少し小さくして一行に収まりやすくする
                labelNoteEl.style.fontSize = '0.75rem'; 
                labelNoteEl.textContent = `1日あたり ${perDayCost}円`;
            }

            // 日割り料金の表示更新 (右側)
            if (currentDay === 1) {
                priceEl.innerHTML = `
                    <span class="price-value">${MONTHLY_FEE.toLocaleString()}<span class="unit">円</span></span>
                    <span class="calculation-note-final">
                        本日 ${currentDay}日入会の場合<br>
                        ※誤差の可能性有り
                    </span>
                `;
                calculatedTotal = MONTHLY_FEE + INITIAL_FEE;
            } else {
                priceEl.innerHTML = `
                    <span class="price-value">${currentMonthFee.toLocaleString()}<span class="unit">円</span></span>
                    <span class="calculation-note-final">
                        本日 ${currentDay}日入会の場合<br>
                        ※誤差の可能性有り
                    </span>
                `;
            }

            totalNoteEl.textContent = `合計 12月`; 
            totalEl.innerHTML = `${calculatedTotal.toLocaleString()}<span class="unit">円</span>`;
            
            if (optionNoteEl) { optionNoteEl.innerHTML = `12月分`; }

        } catch (e) { console.error("日割り計算エラー:", e); }
    }
    
    calculatePrice('plan1'); calculatePrice('plan2');
    
    const plan2EndDateEl = document.getElementById('plan2-end-date');
    if (plan2EndDateEl) {
        const endYear = CAMPAIGN_YEAR + 1; 
        plan2EndDateEl.textContent = `${endYear}年6月末まで`;
    }

    const planTabs = document.querySelectorAll('.plan-tab-button');
    let currentPlan = 'plan1';
    function showPlan(planId) {
        currentPlan = planId;
        document.querySelectorAll('.plan-content').forEach(content => { content.classList.remove('active'); });
        document.querySelectorAll('.plan-tab-button').forEach(button => { button.classList.remove('active'); });
        document.getElementById(planId).classList.add('active');
        document.querySelector(`.plan-tab-button[data-plan="${planId}"]`).classList.add('active');
    }
    planTabs.forEach(tab => { tab.addEventListener('click', (e) => { const planId = e.currentTarget.getAttribute('data-plan'); showPlan(planId); }); });
    
    const planSection = document.querySelector('.plan-selection-section');
    let touchStartX = 0;
    planSection.addEventListener('touchstart', function(event) { touchStartX = event.changedTouches[0].screenX; }, { passive: true });
    planSection.addEventListener('touchend', function(event) {
        const touchEndX = event.changedTouches[0].screenX;
        const swipeThreshold = 50;
        if (touchEndX < touchStartX - swipeThreshold) { if (currentPlan === 'plan1') showPlan('plan2'); } 
        else if (touchEndX > touchStartX + swipeThreshold) { if (currentPlan === 'plan2') showPlan('plan1'); }
    }, { passive: true });
});
</script>

</body>
</html>